<UserControl x:Class="BSE.CoverFlow.WPFLib.ClipboardPanel.Clipboard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:BSE_Wpf_Controls="clr-namespace:BSE.Wpf.Windows.Controls;assembly=BSE.Wpf.Windows.Controls"
             xmlns:dd="clr-namespace:GongSolutions.Wpf.DragDrop;assembly=GongSolutions.Wpf.DragDrop"
             Height="300" Width="300">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/BSE.CoverFlow.WPFLib;component//Themes/Black.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <DataTemplate x:Key="titleTemplate">
                <TextBlock Text="{Binding Path=Title}" TextTrimming="CharacterEllipsis"/>
            </DataTemplate>

            <ContextMenu x:Key="ListViewContextMenu">
                <MenuItem Header="Play Selected Tracks" Command="{Binding DataContext.PlaySelectedTracksCommand, 
                    RelativeSource={RelativeSource FindAncestor, 
                    AncestorType={x:Type UserControl}}}"
                          CommandParameter="{Binding SelectedItems, RelativeSource={RelativeSource FindAncestor, 
                    AncestorType={x:Type ListView}}}" />
                <MenuItem Header="Go To Album" Command="{Binding DataContext.SelectedAlbumCommand, 
                    RelativeSource={RelativeSource FindAncestor, 
                    AncestorType={x:Type UserControl}}}"
                          CommandParameter="{Binding}"/>
            </ContextMenu>

        </ResourceDictionary>
        
    </UserControl.Resources>
    <Grid>

        <ListView Name="lstClipboard"
                  ItemsSource="{Binding Path=Tracks}"
                  Margin="0"
                  Background="{StaticResource DefaultBackgroundBrush}"
                  Foreground="{StaticResource WindowForegroundBrush}"
                  AlternationCount="2"
                  ScrollViewer.HorizontalScrollBarVisibility="Hidden"
                  BSE_Wpf_Controls:ListViewColumns.Stretch="True"
                  dd:DragDrop.DropHandler="{Binding}"
                  dd:DragDrop.IsDragSource="True"
                  dd:DragDrop.IsDropTarget="True">
            <ListView.InputBindings>
                <KeyBinding Command="{Binding Path=RemoveSelectedItemCommand}" Key="Del" CommandParameter="{Binding ElementName=lstClipboard, Path=SelectedItems}"/>
            </ListView.InputBindings>
                <ListView.ItemContainerStyle>
                <Style TargetType="{x:Type ListViewItem}" BasedOn="{StaticResource {x:Type ListViewItem}}">
                    <Setter Property="Height" Value="26"/>
                    <Setter Property="ContextMenu" Value="{StaticResource ListViewContextMenu}"/>
                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                </Style>
            </ListView.ItemContainerStyle>
            <ListView.View>
                <GridView>
                    <GridView.ColumnHeaderContainerStyle>
                        <Style TargetType="{x:Type GridViewColumnHeader}">
                            <Setter Property="Visibility" Value="Collapsed"/>
                        </Style>
                    </GridView.ColumnHeaderContainerStyle>
                    <GridViewColumn Header="Track" CellTemplate="{StaticResource titleTemplate}" Width="Auto"/>
                    <GridViewColumn Header="Duration" DisplayMemberBinding="{Binding Path=Duration}" Width="60">
                    </GridViewColumn>
                </GridView>
            </ListView.View>
            
            </ListView>
        <StackPanel Margin="57,12,43,0" Name="stackPanel1" Height="100" VerticalAlignment="Top" Orientation="Horizontal" HorizontalAlignment="Center">
            <Label Height="28" x:Uid="ClipBoardPanelLabelInformation" Foreground="{StaticResource WindowForegroundBrush}" x:Name="LabelInformation">Drag Items Here</Label>
        </StackPanel>
    </Grid>
</UserControl>
